---
layout: post
title: "Smart Water Monitoring and Leak Detection System Using ESP32 and Fusion Sensors (IMU and Sound)"
date: 2024-10-02
categories: [INSA]
image: /assets/covers/pipe.png
---

## Introduction

Water consumption is one of the critical utilities in a household, yet it is often difficult to monitor effectively. With the rising concerns over water conservation and the financial impact of undetected leaks, having a smart system that can both monitor water usage and detect potential leaks becomes essential. This project presents a smart water monitoring and leak detection system using an **ESP32** microcontroller and fusion sensors to detect water leaks in a household or apartment. The system is designed to help users track their water consumption, detect leaks in real-time, and receive alerts, all through a web or mobile application.

## Litterature Review

### Leak Detection Using Vibration Sensors (IMU)

Vibration-based leak detection methods are increasingly being researched due to their non-intrusive nature and adaptability to various pipeline conditions. In many studies, accelerometer sensors (IMUs) are attached to the pipeline to detect minute vibrations caused by water escaping through leaks. The principle here is that a leak induces vibrations in the pipe structure, which can be detected and analyzed. One key approach is to use Fast Fourier Transform (FFT) and Short-Time Fourier Transform (STFT) techniques to detect frequency changes that correspond to leakage events. This method works by analyzing the vibration signals and correlating them with leak locations based on signal propagation and attenuation. 

Recent studies have also incorporated machine learning models like support vector machines (SVM) and convolutional neural networks (CNNs) to improve the accuracy of leak classification from vibration data. For example, a CNN-based model achieved high accuracy (F1-score of 94.82%) in detecting and classifying leaks from vibration spectra, outperforming traditional models like SVMs. This combination of IMU sensors with advanced machine learning techniques shows promising results for real-time monitoring of pipelines, reducing both detection time and labor costs ([Choi & Im, 2023](https://www.mdpi.com/2076-3417/13/5/2845)).

In another study, a machine learning model based on vibration data from pipelines showed 99.79% accuracy in detecting leaks when using the XGBoost algorithm. The model processed vibration signals using frequency bands and applied predictive analytics to pinpoint leaks accurately, demonstrating that AI-based models can significantly enhance the reliability of vibration-based leak detection ([Lee & Kim, 2023](https://www.mdpi.com/2076-3417/13/5/2845)).

### Leak Detection Using Sound Sensors

Sound sensors are another non-intrusive method commonly used in leak detection, leveraging the acoustic emissions generated by water escaping from a pipe. Acoustic-based systems typically rely on listening devices that can pick up the noise of escaping water. Traditional methods often require expert operators to interpret the sound patterns, which can be time-consuming and prone to human error. However, modern systems employ advanced signal processing techniques, including cross-spectral density (CSD) analysis and Generalized Cross-Correlation (GCC) methods. These techniques allow for more precise time-difference estimation between sound waves picked up by sensors placed at different locations along the pipeline, helping to triangulate the leak location.

Recent innovations in the field include the use of adaptive filtering methods to reduce noise from non-leak-related sources (e.g., environmental sounds), which improves detection reliability. Studies comparing traditional acoustic methods with vibration-based approaches suggest that acoustic sensors perform better in certain environments, especially when the pipeline is buried deep underground ([Jungyu et al., 2023](https://www.mdpi.com/2076-3417/13/5/2845); [MDPI, 2023](https://www.mdpi.com/2076-3417/13/5/2845)).

The integration of vibration (IMU) and sound sensors in water leak detection systems could offers a robust, non-intrusive solution for monitoring water pipelines. Both methods have shown significant improvements when combined with machine learning algorithms, particularly in terms of accuracy and efficiency. The use of CNNs and other AI models enables real-time leak detection and classification, reducing human intervention and improving overall system performance. The complementary use of these sensors, supported by advanced data analysis techniques, is key to developing reliable, automated leak detection systems.
